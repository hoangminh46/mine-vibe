# Mine Workflow Flowchart v3.5

## ğŸ“‹ Complete Workflow List (21 Workflows)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Mine WORKFLOW CATALOG v3.5                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ğŸŒŸ DISCOVERY & START                                                       â”‚
â”‚  â”œâ”€â”€ /brainstorm    ğŸ’¡ BÃ n Ã½ tÆ°á»Ÿng, research thá»‹ trÆ°á»ng                     â”‚
â”‚  â”œâ”€â”€ /requirements  ğŸ“‹ PhÃ¢n tÃ­ch & Äáº·c táº£ YÃªu cáº§u (IEEE 830 SRS) â­ NEW     â”‚
â”‚  â”œâ”€â”€ /init          âœ¨ Táº¡o dá»± Ã¡n má»›i hoÃ n chá»‰nh                             â”‚
â”‚  â””â”€â”€ /customize     âš™ï¸  CÃ¡ nhÃ¢n hÃ³a AI persona                              â”‚
â”‚                                                                             â”‚
â”‚  ğŸ¯ PLANNING & DESIGN                                                       â”‚
â”‚  â”œâ”€â”€ /plan          ğŸ“ Thiáº¿t káº¿ tÃ­nh nÄƒng (Auto-generate phases)            â”‚
â”‚  â”œâ”€â”€ /visualize     ğŸ¨ Thiáº¿t káº¿ UI/UX mockups                               â”‚
â”‚  â””â”€â”€ /mock-api      ğŸ’ƒ Giáº£ láº­p Backend API (MSW + Faker)                    â”‚
â”‚                                                                             â”‚
â”‚  ğŸ’» DEVELOPMENT                                                             â”‚
â”‚  â”œâ”€â”€ /code          ğŸ”§ Viáº¿t code theo Spec (Auto Test Loop)                 â”‚
â”‚  â”œâ”€â”€ /run           â–¶ï¸  Khá»Ÿi Ä‘á»™ng app                                       â”‚
â”‚  â”œâ”€â”€ /test          âœ… Kiá»ƒm tra logic                                       â”‚
â”‚  â””â”€â”€ /debug         ğŸ Sá»­a lá»—i & Debug                                      â”‚
â”‚                                                                             â”‚
â”‚  ğŸ”§ MAINTENANCE                                                             â”‚
â”‚  â”œâ”€â”€ /refactor      ğŸ§¹ Dá»n dáº¹p & tá»‘i Æ°u code                                â”‚
â”‚  â”œâ”€â”€ /audit         ğŸ¥ Kiá»ƒm tra code & báº£o máº­t                              â”‚
â”‚  â””â”€â”€ /rollback      âª Quay láº¡i phiÃªn báº£n cÅ©                                â”‚
â”‚                                                                             â”‚
â”‚  ğŸš€ DEPLOYMENT                                                              â”‚
â”‚  â”œâ”€â”€ /deploy        ğŸŒ CI/CD + Deploy Production                            â”‚
â”‚  â””â”€â”€ /cloudflare-tunnel  ğŸ”— Expose app ra internet                          â”‚
â”‚                                                                             â”‚
â”‚  ğŸ§  MEMORY & RECOVERY                                                       â”‚
â”‚  â”œâ”€â”€ /save-brain    ğŸ’¾ LÆ°u kiáº¿n thá»©c dá»± Ã¡n                                  â”‚
â”‚  â”œâ”€â”€ /recap         ğŸ“– TÃ³m táº¯t context khi quay láº¡i                         â”‚
â”‚  â””â”€â”€ /next          â¡ï¸  KhÃ´ng biáº¿t lÃ m gÃ¬ tiáº¿p?                             â”‚
â”‚                                                                             â”‚
â”‚  ğŸ”„ SYSTEM                                                                  â”‚
â”‚  â””â”€â”€ /mine-update   ğŸ”„ Cáº­p nháº­t Mine lÃªn phiÃªn báº£n má»›i                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Main Flow (Beginner Path)

```mermaid
flowchart TD
    subgraph Discovery["ğŸŒŸ Discovery & Start"]
        IDEA[/"CÃ³ Ã½ tÆ°á»Ÿng"/] --> BRAINSTORM[/brainstorm]
        BRAINSTORM --> |BRIEF.md| REQ[/requirements]
        REQ --> |Use Cases, NFRs| INIT[/init]
        INIT --> |Project setup| PLAN[/plan]
    end

    subgraph Planning["ğŸ¯ Planning Phase"]
        PLAN --> |Auto-generate| PHASES[(plans/\nphase-01.md\nphase-02.md\n...)]
        PHASES --> VIZ[/visualize]
        VIZ --> |mockups| MOCK{Need API?}
        MOCK --> |Yes| MOCKAPI[/mock-api]
        MOCK --> |No| CODE
        MOCKAPI --> CODE
    end

    subgraph Coding["ğŸ’» Coding Phase"]
        CODE[/code phase-01] --> |Auto-test| TEST_PASS{Tests?}
        TEST_PASS --> |PASS| NEXT_TASK[Next Task]
        TEST_PASS --> |FAIL 3x| SKIP_OR_FIX{Skip/Fix?}
        SKIP_OR_FIX --> |Fix| DEBUG[/debug]
        DEBUG --> CODE
        SKIP_OR_FIX --> |Skip| BLOCKED[(skipped_tests)]
        NEXT_TASK --> |Phase done| AUTO_SAVE[Auto-save\nsession.json]
        AUTO_SAVE --> NEXT_PHASE{More phases?}
        NEXT_PHASE --> |Yes| CODE
        NEXT_PHASE --> |No| REFACTOR_CHECK
    end

    subgraph Maintenance["ğŸ”§ Maintenance"]
        REFACTOR_CHECK{Need cleanup?} --> |Yes| REFACTOR[/refactor]
        REFACTOR_CHECK --> |No| DEPLOY_CHECK
        REFACTOR --> DEPLOY_CHECK
    end

    subgraph Deploy["ğŸš€ Deploy Phase"]
        DEPLOY_CHECK{skipped_tests?} --> |Yes| BLOCKED
        BLOCKED --> |Must fix| DEBUG
        DEPLOY_CHECK --> |No| AUDIT[/audit]
        AUDIT --> DEPLOY[/deploy]
        DEPLOY --> TUNNEL{Need public URL?}
        TUNNEL --> |Yes| CF[/cloudflare-tunnel]
        TUNNEL --> |No| LIVE
        CF --> LIVE[/"ğŸ‰ App Live!"/]
    end

    subgraph Memory["ğŸ§  Memory & Recovery"]
        SAVE[/save-brain] --> BRAIN[(brain.json\nsession.json)]
        BRAIN --> RECAP[/recap]
        RECAP --> |Resume| CODE
        LIVE --> SAVE
    end

    style BLOCKED fill:#ff6b6b,stroke:#c92a2a
    style LIVE fill:#51cf66,stroke:#2f9e44
    style AUTO_SAVE fill:#ffd43b,stroke:#fab005
    style REQ fill:#74c0fc,stroke:#1971c2
    style MOCKAPI fill:#b197fc,stroke:#7048e8
```

---

## Data Flow Between Workflows

```mermaid
flowchart LR
    subgraph Files["ğŸ“ Persistent Files"]
        BRAIN[.brain/brain.json]
        SESSION[.brain/session.json]
        PREFS[.brain/preferences.json]
        PLANS[plans/*/phase-*.md]
        SPECS[docs/specs/*.md]
        REQS[docs/requirements/*.md]
    end

    subgraph Discovery["ğŸŒŸ Discovery"]
        BRAINSTORM_WF["/brainstorm"] --> |creates| SPECS
        REQ_WF["/requirements"] --> |creates| REQS
        REQ_WF --> |reads| SPECS
    end

    subgraph Planning["ğŸ¯ Planning"]
        PLAN_WF["/plan"] --> |creates| PLANS
        PLAN_WF --> |reads| REQS
        VIZ_WF["/visualize"] --> |reads| PLANS
        MOCK_WF["/mock-api"] --> |reads| PLANS
    end

    subgraph Development["ğŸ’» Development"]
        CODE_WF["/code"] --> |reads| PLANS
        CODE_WF --> |updates| SESSION
        DEBUG_WF["/debug"] --> |reads| SESSION
        TEST_WF["/test"] --> |updates| SESSION
    end

    subgraph Memory["ğŸ§  Memory"]
        SAVE_WF["/save-brain"] --> |writes| BRAIN
        SAVE_WF --> |writes| SESSION
        RECAP_WF["/recap"] --> |reads| BRAIN
        RECAP_WF --> |reads| SESSION
        NEXT_WF["/next"] --> |reads| SESSION
        NEXT_WF --> |reads| PLANS
        CUSTOMIZE_WF["/customize"] --> |writes| PREFS
    end

    subgraph Deploy["ğŸš€ Deploy"]
        DEPLOY_WF["/deploy"] --> |checks| SESSION
        AUDIT_WF["/audit"] --> |reads| BRAIN
        ROLLBACK_WF["/rollback"] --> |updates| SESSION
    end
```

---

## Detailed Workflow Chain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Mine WORKFLOW CHAIN v3.5                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  DISCOVERY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚/brainstormâ”‚â”€â”€â”€â–ºâ”‚/requirementsâ”‚â”€â”€â”€â–ºâ”‚  /init   â”‚â”€â”€â”€â–ºâ”‚  /plan   â”‚            â”‚
â”‚  â”‚           â”‚    â”‚            â”‚    â”‚          â”‚    â”‚          â”‚            â”‚
â”‚  â”‚ BRIEF.md  â”‚    â”‚ Use Cases  â”‚    â”‚ project  â”‚    â”‚ phases/  â”‚            â”‚
â”‚  â”‚           â”‚    â”‚ NFRs, RTM  â”‚    â”‚ setup    â”‚    â”‚          â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                          â”‚              â”‚                    â”‚
â”‚                                          â–¼              â–¼                    â”‚
â”‚  DESIGN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚/visualizeâ”‚â”€â”€â”€â–ºâ”‚ /mock-apiâ”‚                                              â”‚
â”‚  â”‚          â”‚    â”‚          â”‚                                              â”‚
â”‚  â”‚ mockups  â”‚    â”‚ MSW APIs â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  CODING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         /code LOOP                                   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚   â”‚ phase-01    â”‚â”€â”€â”€â–ºâ”‚ Auto-Test   â”‚â”€â”€â”€â–ºâ”‚ Auto-Save   â”‚â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚   â”‚ phase-02    â”‚    â”‚ (3x retry)  â”‚    â”‚ session.jsonâ”‚    â”‚        â”‚   â”‚
â”‚  â”‚   â”‚ ...         â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                              â”‚        â”‚   â”‚
â”‚  â”‚                             â”‚ FAIL                         â”‚        â”‚   â”‚
â”‚  â”‚                             â–¼                              â”‚        â”‚   â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚        â”‚   â”‚
â”‚  â”‚                    â”‚Skip? â†’ Blockâ”‚â”€â”€â”€â”€â”€â”€â–º skipped_tests    â”‚        â”‚   â”‚
â”‚  â”‚                    â”‚Fix?  â†’ Debugâ”‚                         â”‚        â”‚   â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚        â”‚   â”‚
â”‚  â”‚                                                            â”‚        â”‚   â”‚
â”‚  â”‚   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Next Phase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                    â”‚
â”‚                                        â–¼                                    â”‚
â”‚  MAINTENANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ /refactorâ”‚â”€â”€â”€â–ºâ”‚  /audit  â”‚â”€â”€â”€â–ºâ”‚  /test   â”‚                              â”‚
â”‚  â”‚          â”‚    â”‚          â”‚    â”‚          â”‚                              â”‚
â”‚  â”‚ cleanup  â”‚    â”‚ security â”‚    â”‚ verify   â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                        â”‚                                    â”‚
â”‚                                        â–¼                                    â”‚
â”‚  DEPLOY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Check   â”‚â”€â”€â”€â–ºâ”‚ /deploy  â”‚â”€â”€â”€â–ºâ”‚/cloudflare-   â”‚â”€â”€â”€â–ºâ”‚   LIVE   â”‚        â”‚
â”‚  â”‚ skipped? â”‚    â”‚          â”‚    â”‚    tunnel     â”‚    â”‚          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚                                                     â”‚              â”‚
â”‚       â”‚ BLOCKED if tests skipped                            â”‚              â”‚
â”‚       â–¼                                                     â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  /debug  â”‚                                         â”‚/save-brainâ”‚        â”‚
â”‚  â”‚  /test   â”‚                                         â”‚          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”‚  RECOVERY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  /recap  â”‚â”€â”€â”€â–ºâ”‚  /next   â”‚â”€â”€â”€â–ºâ”‚ Resume   â”‚    â”‚/rollback â”‚              â”‚
â”‚  â”‚          â”‚    â”‚          â”‚    â”‚ /code    â”‚    â”‚(emergency)â”‚              â”‚
â”‚  â”‚ brain.jsonâ”‚   â”‚ progress â”‚    â”‚          â”‚    â”‚          â”‚              â”‚
â”‚  â”‚session.json   â”‚ display  â”‚    â”‚          â”‚    â”‚          â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                             â”‚
â”‚  SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚/customizeâ”‚    â”‚/mine-    â”‚                                              â”‚
â”‚  â”‚          â”‚    â”‚  update  â”‚                                              â”‚
â”‚  â”‚ persona  â”‚    â”‚ version  â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Session.json Data Flow

```
session.json
â”œâ”€â”€ working_on
â”‚   â”œâ”€â”€ feature â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /recap (hiá»ƒn thá»‹)
â”‚   â”œâ”€â”€ task â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /recap, /next (hiá»ƒn thá»‹)
â”‚   â”œâ”€â”€ current_plan_path â–º /code (Ä‘á»c phases)
â”‚   â”œâ”€â”€ current_phase â”€â”€â”€â–º /code, /next (resume)
â”‚   â””â”€â”€ status â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /next (progress)
â”‚
â”œâ”€â”€ pending_tasks â”€â”€â”€â”€â”€â”€â”€â–º /recap, /next (todo list)
â”‚
â”œâ”€â”€ skipped_tests â”€â”€â”€â”€â”€â”€â”€â–º /recap (reminder)
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /deploy (BLOCK!)
â”‚
â”œâ”€â”€ recent_changes â”€â”€â”€â”€â”€â”€â–º /recap (summary)
â”‚
â”œâ”€â”€ errors_encountered â”€â”€â–º /recap, /debug (context)
â”‚
â””â”€â”€ mock_api_status â”€â”€â”€â”€â”€â–º /mock-api, /code (MSW state) â­ NEW
```

---

## Workflow Dependencies

| Workflow | Reads From | Writes To | Blocks If |
|----------|------------|-----------|-----------|
| `/brainstorm` | - | docs/specs/BRIEF.md | - |
| `/requirements` | BRIEF.md | docs/requirements/*.md | - |
| `/init` | requirements | project files, .brain/ | - |
| `/plan` | docs/, brain.json | plans/, session.json | - |
| `/visualize` | plans/ | mockups | - |
| `/mock-api` | plans/, specs | mocks/*.ts | - |
| `/code` | plans/, session.json | *.ts, session.json | - |
| `/run` | package.json | - | - |
| `/test` | src/**/*.test.ts | session.json | - |
| `/debug` | session.json, logs | *.ts | - |
| `/refactor` | src/ | src/ | - |
| `/audit` | project files | reports | - |
| `/deploy` | session.json | - | skipped_tests > 0 |
| `/cloudflare-tunnel` | - | tunnel config | - |
| `/rollback` | git history | project files | - |
| `/save-brain` | project files | brain.json, session.json | - |
| `/recap` | brain.json, session.json | - | - |
| `/next` | session.json, plans/ | - | - |
| `/customize` | - | preferences.json | - |
| `/mine-update` | GitHub | workflows/*.md | - |

---

## Quality Level Flow

```
MVP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  /brainstorm â†’ /plan â†’ /code â†’ syntax check only â†’ /deploy (staging)
â”‚
PRODUCTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  /brainstorm â†’ /requirements â†’ /plan â†’ /visualize â†’ /mock-api
â”‚       â”‚
â”‚       â””â”€â”€â”€â–º /code â†’ auto-test â†’ fix loop â†’ /audit â†’ /deploy
â”‚
ENTERPRISE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  /brainstorm â†’ /requirements (full IEEE 830) â†’ /plan â†’ /visualize
â”‚       â”‚
â”‚       â””â”€â”€â”€â–º /code â†’ unit + integration + e2e â†’ /audit â†’ CI/CD â†’ /deploy
â”‚                                                    â”‚
â”‚                                                    â””â”€â”€â”€â–º /cloudflare-tunnel
```

---

## ğŸ”„ Workflow Categories by SDLC Phase

```mermaid
pie title Workflow Distribution by SDLC Phase
    "Discovery & Planning" : 5
    "Development" : 4
    "Maintenance" : 3
    "Deployment" : 2
    "Memory & Recovery" : 4
    "System" : 3
```

| SDLC Phase | Workflows | Count |
|------------|-----------|-------|
| Discovery & Planning | `/brainstorm`, `/requirements`, `/init`, `/plan`, `/visualize` | 5 |
| Development | `/code`, `/run`, `/test`, `/mock-api` | 4 |
| Maintenance | `/debug`, `/refactor`, `/audit` | 3 |
| Deployment | `/deploy`, `/cloudflare-tunnel` | 2 |
| Memory & Recovery | `/save-brain`, `/recap`, `/next`, `/rollback` | 4 |
| System | `/customize`, `/mine-update` | 2 |
| **Total** | | **21** |

---

## ğŸ¯ Quick Reference: When to Use Which Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WORKFLOW DECISION TREE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  "TÃ´i cÃ³ Ã½ tÆ°á»Ÿng má»›i" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /brainstorm               â”‚
â”‚  "Cáº§n phÃ¢n tÃ­ch yÃªu cáº§u chi tiáº¿t" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /requirements             â”‚
â”‚  "Táº¡o dá»± Ã¡n má»›i" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /init                     â”‚
â”‚  "Thiáº¿t káº¿ tÃ­nh nÄƒng" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /plan                     â”‚
â”‚  "Thiáº¿t káº¿ giao diá»‡n" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /visualize                â”‚
â”‚  "Cáº§n fake API Ä‘á»ƒ dev frontend" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /mock-api                 â”‚
â”‚  "Viáº¿t code" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /code                     â”‚
â”‚  "Cháº¡y app Ä‘á»ƒ test" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /run                      â”‚
â”‚  "Kiá»ƒm tra logic" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /test                     â”‚
â”‚  "CÃ³ lá»—i cáº§n sá»­a" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /debug                    â”‚
â”‚  "Code cáº§n dá»n dáº¹p" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /refactor                 â”‚
â”‚  "Kiá»ƒm tra báº£o máº­t" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /audit                    â”‚
â”‚  "Deploy lÃªn production" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /deploy                   â”‚
â”‚  "Cáº§n URL public" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /cloudflare-tunnel        â”‚
â”‚  "Rollback vá» báº£n cÅ©" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /rollback                 â”‚
â”‚  "LÆ°u kiáº¿n thá»©c cuá»‘i buá»•i" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /save-brain               â”‚
â”‚  "Quay láº¡i sau thá»i gian nghá»‰" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /recap                    â”‚
â”‚  "KhÃ´ng biáº¿t lÃ m gÃ¬ tiáº¿p" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /next                     â”‚
â”‚  "Äá»•i cÃ¡ch AI giao tiáº¿p" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /customize                â”‚
â”‚  "Cáº­p nháº­t Mine" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º /mine-update              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
